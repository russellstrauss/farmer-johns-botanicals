import{r as y,c as N,o as M,a as F,b as m,d as u,e,n as x,f as k,w as P,g as E,t as _,h as Q,i as ct,j as ut,F as R,k as j,u as z,l as I,m as dt,p as w,v as C,q as O,s as mt,x as pt,y as gt}from"./vendor-CCrHAzZ2.js";import{l as vt}from"./stripe-v5H38J3X.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const p of a)if(p.type==="childList")for(const n of p.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&o(n)}).observe(document,{childList:!0,subtree:!0});function d(a){const p={};return a.integrity&&(p.integrity=a.integrity),a.referrerPolicy&&(p.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?p.credentials="include":a.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function o(a){if(a.ep)return;a.ep=!0;const p=d(a);fetch(a.href,p)}})();const Y="fjb_cart",h=y(ft());function ft(){try{const r=localStorage.getItem(Y);return r?JSON.parse(r):[]}catch(r){return console.error("Error loading cart:",r),[]}}function $(){try{localStorage.setItem(Y,JSON.stringify(h.value)),_t()}catch(r){console.error("Error saving cart:",r)}}function _t(){const r=new CustomEvent("cartUpdated",{detail:{cart:h.value,total:K(),itemCount:G()}});window.dispatchEvent(r)}function K(){return h.value.reduce((r,t)=>r+t.price*t.quantity,0)}function G(){return h.value.reduce((r,t)=>r+t.quantity,0)}function L(){const r=(s,l=1,i=null)=>{const v={id:s.id,sku:s.sku||`PROD-${s.id}`,name:s.name,price:parseFloat(s.price),image:s.images&&s.images.length>0?s.images[0]:null,quantity:parseInt(l),variation:i||null},g=h.value.findIndex(f=>i?f.id===s.id&&JSON.stringify(f.variation)===JSON.stringify(i):f.id===s.id&&!f.variation);return g>-1?h.value[g].quantity+=v.quantity:h.value.push(v),$(),h.value},t=s=>(s>=0&&s<h.value.length&&(h.value.splice(s,1),$()),h.value),d=(s,l)=>{if(s>=0&&s<h.value.length){const i=parseInt(l);i>0?h.value[s].quantity=i:t(s),$()}return h.value},o=()=>{h.value=[],$()},a=()=>h.value,p=()=>h.value.length===0,n=s=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(s);return{cart:N(()=>h.value),addItem:r,removeItem:t,updateQuantity:d,clearCart:o,getItems:a,isEmpty:p,getTotal:K,getItemCount:G,formatPrice:n}}const yt="/assets/images/logo.png",A=(r,t)=>{const d=r.__vccOpts||r;for(const[o,a]of t)d[o]=a;return d},ht={name:"AppHeader",setup(){const{getItemCount:r}=L(),t=y(!1),d=y(0),o=y(!0),a=()=>{d.value=r()},p=()=>{t.value=!t.value},n=()=>{o.value=!1};return M(()=>{a(),window.addEventListener("cartUpdated",a)}),{menuOpen:t,cartCount:d,logoExists:o,toggleMenu:p,handleLogoError:n}}},bt={id:"masthead",class:"site-header",role:"banner"},kt={class:"menu-menu-container"},Pt={id:"menu-menu",class:"menu"},wt={class:"site-branding"},Ct={key:1,class:"text-logo"},Et={class:"fjb-checkout"},St={class:"cart-count"};function At(r,t,d,o,a,p){const n=F("router-link");return u(),m("header",bt,[e("nav",{id:"site-navigation",class:x(["main-navigation",{toggled:o.menuOpen}]),role:"navigation"},[e("button",{class:x(["menu-toggle hamburger hamburger--squeeze",{"is-active":o.menuOpen}]),type:"button",onClick:t[0]||(t[0]=(...s)=>o.toggleMenu&&o.toggleMenu(...s))},[...t[2]||(t[2]=[e("span",{class:"hamburger-box"},[e("span",{class:"hamburger-inner"})],-1)])],2),e("div",kt,[e("ul",Pt,[e("li",null,[k(n,{to:"/"},{default:P(()=>[...t[3]||(t[3]=[E("Home",-1)])]),_:1})]),e("li",null,[k(n,{to:"/shop"},{default:P(()=>[...t[4]||(t[4]=[E("Shop",-1)])]),_:1})]),e("li",null,[k(n,{to:"/about"},{default:P(()=>[...t[5]||(t[5]=[E("About",-1)])]),_:1})])])])],2),e("div",wt,[k(n,{to:"/"},{default:P(()=>[o.logoExists?(u(),m("img",{key:0,id:"site-logo",src:yt,alt:"Farmer John's Botanicals Logo",onError:t[1]||(t[1]=(...s)=>o.handleLogoError&&o.handleLogoError(...s))},null,32)):(u(),m("span",Ct,"Farmer John's Botanicals"))]),_:1})]),e("div",Et,[k(n,{to:"/cart",class:"cart-link"},{default:P(()=>[e("span",null,[t[6]||(t[6]=E("checkout ",-1)),e("span",St,_(o.cartCount>0?`(${o.cartCount})`:""),1)]),t[7]||(t[7]=e("div",{class:"bling-shark-container"},[e("div",{class:"bling-shark"}),e("div",{class:"bling-shark-hover"})],-1))]),_:1})])])}const qt=A(ht,[["render",At]]),Ft={name:"AppFooter"},It={id:"colophon",class:"site-footer",role:"contentinfo"};function Rt(r,t,d,o,a,p){return u(),m("footer",It,[...t[0]||(t[0]=[e("h2",{class:"screen-reader-text"},"Footer Content",-1),e("div",{class:"widget-area",role:"complementary"},null,-1)])])}const jt=A(Ft,[["render",Rt]]),Mt={name:"App",components:{AppHeader:qt,AppFooter:jt},setup(){return M(()=>{console.log("[App] App component mounted"),console.log("[App] Router view should be rendering...")}),ut((r,t,d)=>(console.error("[App] Error captured in App component:",r),console.error("[App] Component instance:",t),console.error("[App] Error info:",d),!1)),{}}},Ut={id:"app",class:"hfeed site"},Tt={class:"site-content"},xt={key:1,style:{padding:"20px",color:"orange","font-family":"monospace"}};function Lt(r,t,d,o,a,p){const n=F("AppHeader"),s=F("router-view"),l=F("AppFooter");return u(),m("div",Ut,[k(n),e("main",Tt,[k(s,null,{default:P(({Component:i,route:v})=>[i?(u(),Q(ct(i),{key:v.path})):(u(),m("div",xt,[t[0]||(t[0]=e("h2",null,"Router View Not Rendering",-1)),e("p",null,"Current route: "+_(r.$route.path),1),e("p",null,"Matched routes: "+_(r.$route.matched.length),1),t[1]||(t[1]=e("p",null,"Please check the browser console for router errors.",-1))]))]),_:1})]),k(l)])}const X=A(Mt,[["render",Lt]]),Ot={name:"Home",setup(){return M(()=>{console.log("[Home] Home component mounted successfully"),console.log("[Home] Component is rendering")}),{}}},$t={id:"primary",class:"content-area"},Nt={id:"main",class:"site-main",role:"main"},Bt={class:"shop-front"},Ht={class:"profile-pics"};function Vt(r,t,d,o,a,p){const n=F("router-link");return u(),m("div",$t,[e("main",Nt,[e("div",Bt,[k(n,{to:"/shop"},{default:P(()=>[...t[0]||(t[0]=[e("div",{class:"jewelry-page-link all",style:{"background-image":"url(/assets/images/all-jewelry.jpg)"}},[e("div",{class:"overlay"}),e("div",{class:"text"},"all jewelry")],-1)])]),_:1}),e("div",Ht,[k(n,{to:"/shop?tag=dustin"},{default:P(()=>[...t[1]||(t[1]=[e("div",{class:"jewelry-page-link dustin",style:{"background-image":"url(/assets/images/dustin-page-photo.jpg)"}},[e("div",{class:"overlay"}),e("div",{class:"text"},"Dustin")],-1)])]),_:1}),k(n,{to:"/shop?tag=hillary"},{default:P(()=>[...t[2]||(t[2]=[e("div",{class:"jewelry-page-link hillary",style:{"background-image":"url(/assets/images/hillary-page-photo.jpg)"}},[e("div",{class:"overlay"}),e("div",{class:"text"},"Hillary")],-1)])]),_:1})])])])])}const Z=A(Ot,[["render",Vt]]);let S=y([]),W=!1;function H(){const r=async()=>{if(W)return S.value;try{const s=await fetch("/data/products.json");return S.value=await s.json(),W=!0,S.value}catch(s){return console.error("Error loading products:",s),[]}},t=s=>S.value.find(l=>l.slug===s),d=s=>S.value.find(l=>l.id===s),o=s=>S.value.filter(l=>l.categories.some(i=>i.slug===s)),a=s=>S.value.filter(l=>l.tags.some(i=>i.slug===s)),p=()=>{const s=new Map;return S.value.forEach(l=>{l.categories.forEach(i=>{s.has(i.slug)||s.set(i.slug,i)})}),Array.from(s.values())},n=()=>{const s=new Map;return S.value.forEach(l=>{l.tags.forEach(i=>{s.has(i.slug)||s.set(i.slug,i)})}),Array.from(s.values())};return{products:N(()=>S.value),loadProducts:r,getProductBySlug:t,getProductById:d,getProductsByCategory:o,getProductsByTag:a,getAllCategories:p,getAllTags:n}}const Dt={name:"Shop",setup(){const r=z(),{loadProducts:t,getProductsByCategory:d,getProductsByTag:o,getAllCategories:a}=H(),{addItem:p,formatPrice:n}=L(),s=y([]),l=y([]),i=N(()=>{const f=r.query.tag,T=r.query.category;return f?o(f):T?d(T):s.value}),v=f=>f.images&&f.images.length>0?f.images[0]:"/assets/images/placeholder.jpg",g=f=>{p(f,1),alert("Product added to cart!")};return M(async()=>{s.value=await t(),l.value=a()}),{products:s,categories:l,filteredProducts:i,getProductImage:v,addToCart:g,formatPrice:n}}},Jt={id:"primary",class:"content-area woocommerce woocommerce-shop"},Wt={id:"main",class:"site-main",role:"main"},Qt={class:"above-shop-section"},zt={class:"product-categories",id:"product-categories"},Yt={class:"products",id:"products-list"},Kt=["src","alt"],Gt={key:0,class:"sale-badge"},Xt={class:"woocommerce-loop-product__title"},Zt={class:"price"},te={class:"amount"},ee={key:0,class:"sale-price"};function oe(r,t,d,o,a,p){const n=F("router-link");return u(),m("div",Jt,[e("main",Wt,[e("div",Qt,[e("ul",zt,[(u(!0),m(R,null,j(o.categories,s=>(u(),m("li",{key:s.slug},[k(n,{to:`/shop?category=${s.slug}`},{default:P(()=>[E(_(s.name),1)]),_:2},1032,["to"])]))),128))])]),e("ul",Yt,[(u(!0),m(R,null,j(o.filteredProducts,s=>(u(),m("li",{key:s.id,class:"product"},[k(n,{to:`/product/${s.slug}`},{default:P(()=>[e("div",{class:"product-image-wrapper",style:dt({backgroundImage:`url(${o.getProductImage(s)})`})},[e("img",{src:o.getProductImage(s),alt:s.name},null,8,Kt)],4),s.sale_price?(u(),m("span",Gt,"Sale")):I("",!0),e("h3",Xt,_(s.name),1),e("span",Zt,[e("span",te,[s.sale_price?(u(),m("span",ee,_(o.formatPrice(s.sale_price)),1)):I("",!0),e("span",{class:x({"regular-price":s.sale_price})},_(o.formatPrice(s.price)),3)])])]),_:2},1032,["to"])]))),128))])])])}const ne=A(Dt,[["render",oe]]),se={name:"Product",props:{slug:{type:String,required:!0}},setup(r){const t=z(),{loadProducts:d,getProductBySlug:o}=H(),{addItem:a,formatPrice:p}=L(),n=y(null),s=y(1),l=v=>v?v.replace(/\r\n/g,"<br>").replace(/\n/g,"<br>"):"",i=()=>{n.value&&n.value.in_stock&&(a(n.value,s.value),alert("Product added to cart!"))};return M(async()=>{await d();const v=r.slug||t.params.slug;n.value=o(v)}),{product:n,quantity:s,addToCart:i,formatPrice:p,formatDescription:l}}},re={id:"primary",class:"content-area woocommerce-shop"},ae={id:"main",class:"site-main",role:"main"},le={key:0},ie={class:"product"},ce={class:"product-images"},ue={class:"product-gallery"},de=["src","alt"],me={class:"summary entry-summary"},pe={class:"price"},ge={class:"amount"},ve={key:0,class:"sale-price"},fe=["innerHTML"],_e={key:0,class:"stock in-stock"},ye={key:1,class:"stock out-of-stock"},he={class:"product-actions"},be={class:"quantity"},ke=["max"],Pe=["disabled"],we={key:2,class:"product_meta"},Ce={key:1,class:"product-not-found"};function Ee(r,t,d,o,a,p){const n=F("router-link");return u(),m("div",re,[e("main",ae,[o.product?(u(),m("div",le,[e("div",ie,[e("div",ce,[e("div",ue,[(u(!0),m(R,null,j(o.product.images,(s,l)=>(u(),m("img",{key:l,src:s,alt:`${o.product.name} ${l+1}`,class:x(l===0?"main-image":"gallery-image")},null,10,de))),128))])]),e("div",me,[e("h1",null,_(o.product.name),1),e("div",pe,[e("span",ge,[o.product.sale_price?(u(),m("span",ve,_(o.formatPrice(o.product.sale_price)),1)):I("",!0),e("span",{class:x({"regular-price":o.product.sale_price})},_(o.formatPrice(o.product.price)),3)])]),e("div",{class:"product-short-description",innerHTML:o.formatDescription(o.product.short_description)},null,8,fe),o.product.in_stock?(u(),m("div",_e,"In Stock")):(u(),m("div",ye,"Out of Stock")),e("div",he,[e("div",be,[w(e("input",{type:"number",id:"quantity",class:"qty","onUpdate:modelValue":t[0]||(t[0]=s=>o.quantity=s),min:"1",max:o.product.stock_quantity||999},null,8,ke),[[C,o.quantity,void 0,{number:!0}]])]),e("button",{class:"button alt single_add_to_cart_button",onClick:t[1]||(t[1]=(...s)=>o.addToCart&&o.addToCart(...s)),disabled:!o.product.in_stock}," Add to Cart ",8,Pe)]),o.product.categories&&o.product.categories.length>0?(u(),m("div",we,[t[2]||(t[2]=E(" Categories: ",-1)),(u(!0),m(R,null,j(o.product.categories,s=>(u(),Q(n,{key:s.slug,to:`/shop?category=${s.slug}`},{default:P(()=>[E(_(s.name),1)]),_:2},1032,["to"]))),128))])):I("",!0)])])])):(u(),m("div",Ce,[t[4]||(t[4]=e("p",null,"Product not found",-1)),k(n,{to:"/shop"},{default:P(()=>[...t[3]||(t[3]=[E("Continue Shopping",-1)])]),_:1})]))])])}const Se=A(se,[["render",Ee]]);let B=null;function Ae(){const r=()=>(B||(B=vt("pk_live_51SiRY1A8uFMpckaI6LOib5hvgp4BM6gPvCLgbEMG6xgCOnublJ5q3XQiWNzNl30CWIlRRS8dI8AIwZdAKLrOFIRe001zMahUqN")),B);return{getStripe:r,createCheckoutSession:async(d,o=null)=>{try{if(!d||d.length===0)throw new Error("Cart is empty");const a=d.map(v=>{let g=null;return v.image&&(v.image.startsWith("http")?g=v.image:g=new URL(v.image,window.location.origin).href),{price_data:{currency:"usd",product_data:{name:v.name,images:g?[g]:[]},unit_amount:Math.round(v.price*100)},quantity:v.quantity}}),p=new URL("/success",window.location.origin).href,n=new URL("/cart",window.location.origin).href,l=await fetch("/api/create-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({line_items:a,customer_email:o,success_url:p,cancel_url:n,metadata:{cart_items:JSON.stringify(d.map(v=>({sku:v.sku,name:v.name,quantity:v.quantity})))}})});if(!l.ok){const v=await l.json();throw new Error(v.message||"Failed to create checkout session")}const i=await l.json();if(i.url)window.location.href=i.url;else if(i.sessionId){const v=await r();if(v){const{error:g}=await v.redirectToCheckout({sessionId:i.sessionId});if(g)throw new Error(g.message)}}else throw new Error("No checkout URL or session ID returned")}catch(a){throw console.error("Error creating checkout session:",a),alert("Error starting checkout: "+a.message),a}}}}const qe={name:"Cart",setup(){const{getItems:r,removeItem:t,updateQuantity:d,isEmpty:o,getTotal:a,formatPrice:p}=L(),{createCheckoutSession:n}=Ae(),s=y(!1),l=N(()=>r());return{cartItems:l,isEmpty:o,getTotal:a,formatPrice:p,removeItem:f=>{t(f)},updateQuantity:(f,T)=>{d(f,parseInt(T))},handleCheckout:async()=>{if(l.value.length===0){alert("Your cart is empty");return}s.value=!0;try{await n(l.value)}catch(f){console.error("Checkout error:",f)}finally{s.value=!1}},processing:s}}},Fe={id:"primary",class:"content-area"},Ie={id:"main",class:"site-main",role:"main"},Re={id:"cart-container"},je={key:0,id:"cart-empty"},Me={key:1,id:"cart-items"},Ue={class:"cart-table"},Te={id:"cart-items-body"},xe=["src","alt"],Le=["value","onChange"],Oe=["onClick"],$e={class:"cart-actions"},Ne=["disabled"];function Be(r,t,d,o,a,p){const n=F("router-link");return u(),m("div",Fe,[e("main",Ie,[t[7]||(t[7]=e("h1",null,"Shopping Cart",-1)),e("div",Re,[o.isEmpty()?(u(),m("div",je,[t[2]||(t[2]=e("p",null,"Your cart is empty.",-1)),k(n,{to:"/shop",class:"button"},{default:P(()=>[...t[1]||(t[1]=[E("Continue Shopping",-1)])]),_:1})])):(u(),m("div",Me,[e("table",Ue,[t[5]||(t[5]=e("thead",null,[e("tr",null,[e("th",null,"Product"),e("th",null,"Price"),e("th",null,"Quantity"),e("th",null,"Subtotal"),e("th")])],-1)),e("tbody",Te,[(u(!0),m(R,null,j(o.cartItems,(s,l)=>(u(),m("tr",{key:l},[e("td",null,[e("img",{src:s.image||"/assets/images/placeholder.jpg",alt:s.name,class:"cart-item-image"},null,8,xe),e("strong",null,_(s.name),1)]),e("td",null,_(o.formatPrice(s.price)),1),e("td",null,[e("input",{type:"number",min:"1",value:s.quantity,onChange:i=>o.updateQuantity(l,i.target.value),class:"quantity-input"},null,40,Le)]),e("td",null,_(o.formatPrice(s.price*s.quantity)),1),e("td",null,[e("button",{class:"remove-item-btn",onClick:i=>o.removeItem(l)},"Remove",8,Oe)])]))),128))]),e("tfoot",null,[e("tr",null,[t[3]||(t[3]=e("td",{colspan:"3"},[e("strong",null,"Total")],-1)),e("td",null,[e("strong",null,_(o.formatPrice(o.getTotal())),1)]),t[4]||(t[4]=e("td",null,null,-1))])])]),e("div",$e,[k(n,{to:"/shop",class:"button"},{default:P(()=>[...t[6]||(t[6]=[E("Continue Shopping",-1)])]),_:1}),e("button",{class:"button checkout-button",onClick:t[0]||(t[0]=(...s)=>o.handleCheckout&&o.handleCheckout(...s)),disabled:o.processing},_(o.processing?"Processing...":"Proceed to Checkout"),9,Ne)])]))])])])}const He=A(qe,[["render",Be]]),Ve={name:"About",setup(){const r=y("");return M(async()=>{try{const t=await fetch("/data/about.json");if(t.ok){const d=await t.json();r.value=d.content||"<p>Welcome to Farmer John's Botanicals. We create handcrafted jewelry with care and attention to detail.</p>"}else r.value="<p>Welcome to Farmer John's Botanicals. We create handcrafted jewelry with care and attention to detail.</p>"}catch(t){console.error("Error loading about content:",t),r.value="<p>Welcome to Farmer John's Botanicals. We create handcrafted jewelry with care and attention to detail.</p>"}}),{aboutContent:r}}},De={id:"primary",class:"content-area"},Je={id:"main",class:"site-main",role:"main"},We=["innerHTML"];function Qe(r,t,d,o,a,p){return u(),m("div",De,[e("main",Je,[t[0]||(t[0]=e("h1",null,"About Farmer John's Botanicals",-1)),e("div",{class:"about-content",innerHTML:o.aboutContent},null,8,We)])])}const ze=A(Ve,[["render",Qe]]),Ye={name:"Success",setup(){const{clearCart:r}=L();return M(()=>{r()}),{}}},Ke={id:"primary",class:"content-area"},Ge={id:"main",class:"site-main",role:"main"},Xe={class:"success-page"};function Ze(r,t,d,o,a,p){const n=F("router-link");return u(),m("div",Ke,[e("main",Ge,[e("div",Xe,[t[1]||(t[1]=e("h1",null,"Thank You for Your Order!",-1)),t[2]||(t[2]=e("p",null,"Your order has been received and we'll process it shortly.",-1)),t[3]||(t[3]=e("p",null,"You will receive an email confirmation shortly.",-1)),k(n,{to:"/shop",class:"button"},{default:P(()=>[...t[0]||(t[0]=[E("Continue Shopping",-1)])]),_:1})])])])}const to=A(Ye,[["render",Ze]]),eo={name:"Admin",setup(){const{loadProducts:r,products:t}=H(),{formatPrice:d}=L(),o=y("products"),a=y(!1),p=y(!1),n=y(null),s=y(null),l=y([]),i=y([]),v=[{id:"products",label:"Products"},{id:"pages",label:"Pages"}],g=y({id:null,name:"",slug:"",sku:"",price:0,sale_price:null,short_description:"",imagesText:"",stock_quantity:1,categories:[],tags:[]}),f=y({title:"",slug:"",content:""}),T=c=>c.images&&c.images.length>0?c.images[0]:"/assets/images/placeholder.jpg",tt=async()=>{try{const c=await fetch("/data/pages.json");c.ok?i.value=await c.json():i.value=[]}catch(c){console.error("Error loading pages:",c),i.value=[]}},et=c=>{n.value=c,g.value={id:c.id,name:c.name,slug:c.slug,sku:c.sku,price:c.price,sale_price:c.sale_price,short_description:c.short_description||"",imagesText:c.images?c.images.join(`
`):"",stock_quantity:c.stock_quantity||1,categories:c.categories||[],tags:c.tags||[]}},ot=c=>{s.value=c,f.value={title:c.title,slug:c.slug,content:c.content||""}},nt=()=>{const c=g.value.imagesText.split(`
`).filter(b=>b.trim());if(n.value){const b=l.value.findIndex(q=>q.id===n.value.id);b>-1&&(l.value[b]={...l.value[b],...g.value,images:c,regular_price:g.value.price,stock_status:g.value.stock_quantity>0?"instock":"outofstock",in_stock:g.value.stock_quantity>0,manage_stock:!0})}else{const b=Math.max(...l.value.map(q=>q.id),0)+1;l.value.push({id:b,name:g.value.name,slug:g.value.slug,sku:g.value.sku,price:g.value.price,regular_price:g.value.price,sale_price:g.value.sale_price,short_description:g.value.short_description,images:c,stock_quantity:g.value.stock_quantity,stock_status:g.value.stock_quantity>0?"instock":"outofstock",in_stock:g.value.stock_quantity>0,manage_stock:!0,categories:[],tags:[],currency:"USD",type:"simple",featured:!1})}D()},st=()=>{if(s.value){const c=i.value.findIndex(b=>b.slug===s.value.slug);c>-1&&(i.value[c]={...i.value[c],...f.value})}else i.value.push({title:f.value.title,slug:f.value.slug,content:f.value.content});J()},rt=c=>{confirm("Are you sure you want to delete this product?")&&(l.value=l.value.filter(b=>b.id!==c))},at=c=>{confirm("Are you sure you want to delete this page?")&&(i.value=i.value.filter(b=>b.slug!==c))},D=()=>{a.value=!1,n.value=null,g.value={id:null,name:"",slug:"",sku:"",price:0,sale_price:null,short_description:"",imagesText:"",stock_quantity:1,categories:[],tags:[]}},J=()=>{p.value=!1,s.value=null,f.value={title:"",slug:"",content:""}},lt=async()=>{try{const c=JSON.stringify(l.value,null,2),b=new Blob([c],{type:"application/json"}),q=URL.createObjectURL(b),U=document.createElement("a");U.href=q,U.download="products.json",U.click(),URL.revokeObjectURL(q),alert("Products saved! Download the file and place it in /public/data/products.json")}catch(c){console.error("Error saving products:",c),alert("Error saving products")}},it=async()=>{try{const c=JSON.stringify(i.value,null,2),b=new Blob([c],{type:"application/json"}),q=URL.createObjectURL(b),U=document.createElement("a");U.href=q,U.download="pages.json",U.click(),URL.revokeObjectURL(q),alert("Pages saved! Download the file and place it in /public/data/pages.json")}catch(c){console.error("Error saving pages:",c),alert("Error saving pages")}};return M(async()=>{await r(),l.value=[...t.value],await tt()}),{activeTab:o,tabs:v,products:l,pages:i,showAddProduct:a,showAddPage:p,editingProduct:n,editingPage:s,productForm:g,pageForm:f,getProductImage:T,formatPrice:d,editProduct:et,editPage:ot,saveProduct:nt,savePage:st,deleteProduct:rt,deletePage:at,closeProductEditor:D,closePageEditor:J,saveProducts:lt,savePages:it}}},oo={id:"primary",class:"content-area admin-area"},no={id:"main",class:"site-main",role:"main"},so={class:"admin-header"},ro={class:"admin-tabs"},ao=["onClick"],lo={key:0,class:"admin-content"},io={class:"admin-actions"},co={class:"products-list"},uo=["src","alt"],mo={class:"product-details"},po={class:"product-actions"},go=["onClick"],vo=["onClick"],fo={key:1,class:"admin-content"},_o={class:"admin-actions"},yo={class:"pages-list"},ho={class:"page-actions"},bo=["onClick"],ko=["onClick"],Po={class:"modal-content"},wo={class:"form-group"},Co={class:"form-group"},Eo={class:"form-group"},So={class:"form-group"},Ao={class:"form-group"},qo={class:"form-group"},Fo={class:"form-group"},Io={class:"form-group"},Ro={class:"form-actions"},jo={class:"modal-content"},Mo={class:"form-group"},Uo={class:"form-group"},To={class:"form-group"},xo={class:"form-actions"};function Lo(r,t,d,o,a,p){return u(),m("div",oo,[e("main",no,[e("div",so,[t[21]||(t[21]=e("h1",null,"Content Management",-1)),e("div",ro,[(u(!0),m(R,null,j(o.tabs,n=>(u(),m("button",{key:n.id,onClick:s=>o.activeTab=n.id,class:x([{active:o.activeTab===n.id},"tab-button"])},_(n.label),11,ao))),128))])]),o.activeTab==="products"?(u(),m("div",lo,[e("div",io,[e("button",{onClick:t[0]||(t[0]=n=>o.showAddProduct=!0),class:"button"},"Add New Product"),e("button",{onClick:t[1]||(t[1]=(...n)=>o.saveProducts&&o.saveProducts(...n)),class:"button primary"},"Save Changes")]),e("div",co,[(u(!0),m(R,null,j(o.products,n=>(u(),m("div",{key:n.id,class:"product-item"},[e("img",{src:o.getProductImage(n),alt:n.name,class:"product-thumb"},null,8,uo),e("div",mo,[e("h3",null,_(n.name),1),e("p",null,_(o.formatPrice(n.price)),1)]),e("div",po,[e("button",{onClick:s=>o.editProduct(n),class:"button small"},"Edit",8,go),e("button",{onClick:s=>o.deleteProduct(n.id),class:"button small danger"},"Delete",8,vo)])]))),128))])])):I("",!0),o.activeTab==="pages"?(u(),m("div",fo,[e("div",_o,[e("button",{onClick:t[2]||(t[2]=n=>o.showAddPage=!0),class:"button"},"Add New Page"),e("button",{onClick:t[3]||(t[3]=(...n)=>o.savePages&&o.savePages(...n)),class:"button primary"},"Save Changes")]),e("div",yo,[(u(!0),m(R,null,j(o.pages,n=>(u(),m("div",{key:n.slug,class:"page-item"},[e("h3",null,_(n.title),1),e("p",null,"Slug: "+_(n.slug),1),e("div",ho,[e("button",{onClick:s=>o.editPage(n),class:"button small"},"Edit",8,bo),e("button",{onClick:s=>o.deletePage(n.slug),class:"button small danger"},"Delete",8,ko)])]))),128))])])):I("",!0),o.showAddProduct||o.editingProduct?(u(),m("div",{key:2,class:"modal",onClick:t[14]||(t[14]=O((...n)=>o.closeProductEditor&&o.closeProductEditor(...n),["self"]))},[e("div",Po,[e("h2",null,_(o.editingProduct?"Edit Product":"Add New Product"),1),e("form",{onSubmit:t[13]||(t[13]=O((...n)=>o.saveProduct&&o.saveProduct(...n),["prevent"]))},[e("div",wo,[t[22]||(t[22]=e("label",null,"Name",-1)),w(e("input",{"onUpdate:modelValue":t[4]||(t[4]=n=>o.productForm.name=n),required:""},null,512),[[C,o.productForm.name]])]),e("div",Co,[t[23]||(t[23]=e("label",null,"Slug",-1)),w(e("input",{"onUpdate:modelValue":t[5]||(t[5]=n=>o.productForm.slug=n),required:""},null,512),[[C,o.productForm.slug]])]),e("div",Eo,[t[24]||(t[24]=e("label",null,"SKU",-1)),w(e("input",{"onUpdate:modelValue":t[6]||(t[6]=n=>o.productForm.sku=n),required:""},null,512),[[C,o.productForm.sku]])]),e("div",So,[t[25]||(t[25]=e("label",null,"Price",-1)),w(e("input",{type:"number","onUpdate:modelValue":t[7]||(t[7]=n=>o.productForm.price=n),step:"0.01",required:""},null,512),[[C,o.productForm.price,void 0,{number:!0}]])]),e("div",Ao,[t[26]||(t[26]=e("label",null,"Sale Price (optional)",-1)),w(e("input",{type:"number","onUpdate:modelValue":t[8]||(t[8]=n=>o.productForm.sale_price=n),step:"0.01"},null,512),[[C,o.productForm.sale_price,void 0,{number:!0}]])]),e("div",qo,[t[27]||(t[27]=e("label",null,"Description",-1)),w(e("textarea",{"onUpdate:modelValue":t[9]||(t[9]=n=>o.productForm.short_description=n),rows:"4"},null,512),[[C,o.productForm.short_description]])]),e("div",Fo,[t[28]||(t[28]=e("label",null,"Images (one per line)",-1)),w(e("textarea",{"onUpdate:modelValue":t[10]||(t[10]=n=>o.productForm.imagesText=n),rows:"4",placeholder:"/assets/images/product1.jpg"},null,512),[[C,o.productForm.imagesText]])]),e("div",Io,[t[29]||(t[29]=e("label",null,"Stock Quantity",-1)),w(e("input",{type:"number","onUpdate:modelValue":t[11]||(t[11]=n=>o.productForm.stock_quantity=n),min:"0"},null,512),[[C,o.productForm.stock_quantity,void 0,{number:!0}]])]),e("div",Ro,[t[30]||(t[30]=e("button",{type:"submit",class:"button primary"},"Save",-1)),e("button",{type:"button",onClick:t[12]||(t[12]=(...n)=>o.closeProductEditor&&o.closeProductEditor(...n)),class:"button"},"Cancel")])],32)])])):I("",!0),o.showAddPage||o.editingPage?(u(),m("div",{key:3,class:"modal",onClick:t[20]||(t[20]=O((...n)=>o.closePageEditor&&o.closePageEditor(...n),["self"]))},[e("div",jo,[e("h2",null,_(o.editingPage?"Edit Page":"Add New Page"),1),e("form",{onSubmit:t[19]||(t[19]=O((...n)=>o.savePage&&o.savePage(...n),["prevent"]))},[e("div",Mo,[t[31]||(t[31]=e("label",null,"Title",-1)),w(e("input",{"onUpdate:modelValue":t[15]||(t[15]=n=>o.pageForm.title=n),required:""},null,512),[[C,o.pageForm.title]])]),e("div",Uo,[t[32]||(t[32]=e("label",null,"Slug",-1)),w(e("input",{"onUpdate:modelValue":t[16]||(t[16]=n=>o.pageForm.slug=n),required:""},null,512),[[C,o.pageForm.slug]])]),e("div",To,[t[33]||(t[33]=e("label",null,"Content",-1)),w(e("textarea",{"onUpdate:modelValue":t[17]||(t[17]=n=>o.pageForm.content=n),rows:"10"},null,512),[[C,o.pageForm.content]])]),e("div",xo,[t[34]||(t[34]=e("button",{type:"submit",class:"button primary"},"Save",-1)),e("button",{type:"button",onClick:t[18]||(t[18]=(...n)=>o.closePageEditor&&o.closePageEditor(...n)),class:"button"},"Cancel")])],32)])])):I("",!0)])])}const Oo=A(eo,[["render",Lo],["__scopeId","data-v-3b6ea634"]]);console.log("[Routes] Loading route components...");console.log("[Routes] Home component loaded:",Z);const V=[{path:"/",name:"Home",component:Z},{path:"/shop",name:"Shop",component:ne},{path:"/product/:slug",name:"Product",component:Se,props:!0},{path:"/cart",name:"Cart",component:He},{path:"/about",name:"About",component:ze},{path:"/success",name:"Success",component:to},{path:"/admin",name:"Admin",component:Oo,meta:{requiresAuth:!0}}];console.log("[Routes] All routes configured:",V);console.log("[Main] Starting Vue app initialization...");console.log("[Main] Routes loaded:",V);console.log("[Main] App component:",X);try{const r=mt({history:pt(),routes:V});r.onError(o=>{console.error("[Router] Navigation error:",o)}),r.beforeEach((o,a,p)=>{console.log("[Router] Navigating from",a.path,"to",o.path),p()}),r.afterEach((o,a)=>{console.log("[Router] Navigation complete to",o.path),console.log("[Router] Matched route:",o.matched)}),console.log("[Main] Router created successfully");const t=gt(X);console.log("[Main] Vue app created"),t.use(r),console.log("[Main] Router registered with app");const d=document.querySelector("#app");if(!d)throw console.error("[Main] ERROR: #app element not found in DOM!"),new Error("#app element not found");console.log("[Main] Mount target found:",d),t.mount("#app"),console.log("[Main] App mounted successfully"),document.body.classList.add("woocommerce"),console.log("[Main] Initialization complete")}catch(r){console.error("[Main] ERROR during app initialization:",r);const t=document.querySelector("#app");t&&(t.innerHTML=`
      <div style="padding: 20px; color: red; font-family: monospace;">
        <h1>Application Error</h1>
        <p><strong>Error:</strong> ${r.message}</p>
        <p><strong>Stack:</strong></p>
        <pre>${r.stack}</pre>
        <p>Please check the browser console for more details.</p>
      </div>
    `)}
