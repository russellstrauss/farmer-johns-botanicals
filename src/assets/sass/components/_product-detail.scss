.product {
	display: flex;
	flex-direction: row;
	gap: 40px;
	align-items: flex-start;

	@include mobile-only {
		flex-direction: column;
		gap: 20px;
	}

	.product-images {
		flex: 0 0 50%;
		max-width: 50%;
		margin-bottom: 0;

		@include mobile-only {
			flex: 0 0 100%;
			max-width: 100%;
			margin-bottom: 20px;
			width: 100%;
		}

		.product-gallery {
			display: flex;
			flex-direction: column;
			gap: 0;
			
			.main-image-viewer {
				border: 1px solid black;
				width: 100%;
				position: relative;
				box-sizing: border-box; // Include border in width calculation
				overflow: hidden; // Prevent content from overflowing

				.main-image-link {
					display: block;
					cursor: pointer;
					text-decoration: none;
					transition: opacity 0.3s ease;
					width: 100%;
					padding-bottom: 100%; // Creates square aspect ratio (1:1)
					position: relative;
					overflow: hidden;
					background-size: cover;
					background-position: center center;
					background-repeat: no-repeat;
					border: none;
					box-sizing: border-box; // Ensure padding is included in width

					&:hover {
						opacity: 0.9;
					}

					.main-image {
						position: absolute;
						top: 0;
						left: 0;
						width: 100%;
						height: 100%;
						object-fit: cover;
						opacity: 0;
						pointer-events: none;
					}
				}
			}

			.thumbnail-gallery {
				display: flex;
				flex-wrap: wrap;
				gap: 0; // Remove gaps between thumbnails

				.thumbnail-button {
					background: none;
					border: none;
					border-radius: 0;
					padding: 0;
					cursor: pointer;
					transition: opacity 0.3s ease;
					flex: 0 0 var(--thumbnail-width, 20%); // Use CSS variable for percentage width
					width: var(--thumbnail-width, 20%); // Percentage-based width for even distribution
					max-width: var(--thumbnail-width, 20%); // Ensure max-width matches for proper wrapping
					height: 0;
					padding-bottom: var(--thumbnail-width, 20%); // Maintain square aspect ratio using padding
					overflow: hidden;
					display: flex;
					align-items: center;
					justify-content: center;
					opacity: 0.5;
					position: relative;

					&:hover, &.active {
						opacity: 1;
					}

					.thumbnail-image {
						position: absolute;
						top: 0;
						left: 0;
						width: 100%;
						height: 100%;
						object-fit: cover;
						display: block;
						border-radius: 0;
					}
				}
			}
		}
	}

	.summary {
		flex: 0 0 50%;
		max-width: 50%;
		text-align: left;
		margin: 0;

		@include mobile-only {
			flex: 0 0 100%;
			max-width: 100%;
		}

		h1:first-of-type  {
			margin-top: 0;
		}

		.price {
			color: $accent-color;
			margin-bottom: 10px;
		}

		.product-short-description {
			margin-bottom: 20px;
		}

		.stock {
			display: none;
		}

		.product-actions {
			.quantity {
				display: none;
			}
			
			button {
				margin-top: 20px;
			}
		}

		.product_meta {
			display: none;
		}
	}
}
